
          ? "<div class='popup-label'><a href='https://onthedung.com/' target='_blank'>" + loc.name + "</a></div>"
          : "<div class='popup-label'>" + loc.name + "</div>";

          const popup = L.popup()
            .setLatLng([loc.lat, loc.lng])
            .setContent(popupContent)
            .openOn(map);
          shownPopups[loc.name] = true;
        }
      });
    }

    function onLocationError(e) {
      alert("위치 정보를 가져올 수 없습니다: " + e.message);
    }

    map.on('locationfound', onLocationFound);
    map.on('locationerror', onLocationError);
    map.locate({ setView: true, maxZoom: 18, watch: true });
  </script>
</body>
</html>
